\doxysection{port.\+c}
\hypertarget{template_2port_8c_source}{}\label{template_2port_8c_source}\index{D:/Projects/Raspberrypi\_pico/pico\_freertos\_final/freertos\_pico2/pico\_freertos/FreeRTOS-\/Kernel/portable/template/port.c@{D:/Projects/Raspberrypi\_pico/pico\_freertos\_final/freertos\_pico2/pico\_freertos/FreeRTOS-\/Kernel/portable/template/port.c}}
\mbox{\hyperlink{template_2port_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00001}00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00002}00002\ \textcolor{comment}{\ *\ FreeRTOS\ Kernel\ <DEVELOPMENT\ BRANCH>}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00003}00003\ \textcolor{comment}{\ *\ license\ and\ copyright\ intentionally\ withheld\ to\ promote\ copying\ into\ user\ code.}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00004}00004\ \textcolor{comment}{\ */}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_free_r_t_o_s_8h}{FreeRTOS.h}}"{}}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00007}00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{task_8h}{task.h}}"{}}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00009}\mbox{\hyperlink{template_2port_8c_ade5a8c6666e7413a0355cc252029c5c6}{00009}}\ \mbox{\hyperlink{_a_r_mv8_m_2non__secure_2portmacrocommon_8h_a46fb21e00ae0729d7515c0fbf2269796}{BaseType\_t}}\ \mbox{\hyperlink{_a_r_mv8_m_2non__secure_2port_8c_ade5a8c6666e7413a0355cc252029c5c6}{xPortStartScheduler}}(\ \textcolor{keywordtype}{void}\ )}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00010}00010\ \{}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00011}00011\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{projdefs_8h_af268cf937960eb029256bd9c4d949fbe}{pdTRUE}};}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00012}00012\ \}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00014}\mbox{\hyperlink{template_2port_8c_af76f3c0b44c5b5c06fc046a4ee1a6423}{00014}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_a_r_mv8_m_2non__secure_2port_8c_af76f3c0b44c5b5c06fc046a4ee1a6423}{vPortEndScheduler}}(\ \textcolor{keywordtype}{void}\ )}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00015}00015\ \{}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00016}00016\ \}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00018}\mbox{\hyperlink{template_2port_8c_aec89de59377079f7dc6a71dfbefd9a6f}{00018}}\ \mbox{\hyperlink{_a_r_mv8_m_2non__secure_2portmacrocommon_8h_a84e9a8ba132feed0b2401c1f4e2ac63c}{StackType\_t}}\ *\ \mbox{\hyperlink{_a_r_mv8_m_2non__secure_2port_8c_aaa2085423d917cf1707f4770de3354e2}{pxPortInitialiseStack}}(\ \mbox{\hyperlink{_a_r_mv8_m_2non__secure_2portmacrocommon_8h_a84e9a8ba132feed0b2401c1f4e2ac63c}{StackType\_t}}\ *\ pxTopOfStack,}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00019}00019\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{projdefs_8h_a0ab243e55144f5278d263729530dac14}{TaskFunction\_t}}\ pxCode,}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00020}00020\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ *\ pvParameters\ )}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00021}00021\ \{}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00022}00022\ \ \ \ \ (\ void\ )\ pxTopOfStack;}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00023}00023\ \ \ \ \ (\ void\ )\ pvParameters;}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00024}00024\ \ \ \ \ (\ void\ )\ *\ pxCode;}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00026}00026\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_third_party_2_g_c_c_2_a_r_c___e_m___h_s_2portmacro_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00027}00027\ \}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00029}\mbox{\hyperlink{template_2port_8c_add01c927fb689f7ec170e42d47d27927}{00029}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_a_r_mv8_m_2non__secure_2port_8c_add01c927fb689f7ec170e42d47d27927}{vPortYield}}(\ \textcolor{keywordtype}{void}\ )}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00030}00030\ \{}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00031}00031\ \ \ \ \ \textcolor{comment}{/*\ Save\ the\ current\ Context\ */}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00033}00033\ \ \ \ \ \textcolor{comment}{/*\ Switch\ to\ the\ highest\ priority\ task\ that\ is\ ready\ to\ run.\ */}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00034}00034\ \textcolor{preprocessor}{\ \ \ \ \#if\ (\ configNUMBER\_OF\_CORES\ ==\ 1\ )}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00035}00035\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00036}00036\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_b_c_c_216_bit_d_o_s_2common_2portasm_8h_a9c86137bc3c1cbffc39fff22627cb885}{vTaskSwitchContext}}();}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00037}00037\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00038}00038\ \textcolor{preprocessor}{\ \ \ \ \#else}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00039}00039\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00040}00040\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_b_c_c_216_bit_d_o_s_2common_2portasm_8h_a9c86137bc3c1cbffc39fff22627cb885}{vTaskSwitchContext}}(\ \mbox{\hyperlink{_free_r_t_o_s_8h_af56cac3afabd5c354d28d1a9d22321cd}{portGET\_CORE\_ID}}()\ );}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00041}00041\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00042}00042\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00044}00044\ \ \ \ \ \textcolor{comment}{/*\ Start\ executing\ the\ task\ we\ have\ just\ switched\ to.\ */}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00045}00045\ \}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00047}00047\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_renesas_2_r_x100_2port_8c_a0aa24c8078598622a12fefe9e98a763b}{prvTickISR}}(\ \textcolor{keywordtype}{void}\ )}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00048}00048\ \{}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00049}00049\ \ \ \ \ \textcolor{comment}{/*\ Interrupts\ must\ have\ been\ enabled\ for\ the\ ISR\ to\ fire,\ so\ we\ have\ to}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00050}00050\ \textcolor{comment}{\ \ \ \ \ *\ save\ the\ context\ with\ interrupts\ enabled.\ */}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00052}00052\ \textcolor{preprocessor}{\ \ \ \ \#if\ (\ configNUMBER\_OF\_CORES\ ==\ 1\ )}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00053}00053\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00054}00054\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Maintain\ the\ tick\ count.\ */}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00055}00055\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ \mbox{\hyperlink{task_8h_a978e25460ac35706f9ad30b46d9403d8}{xTaskIncrementTick}}()\ !=\ \mbox{\hyperlink{projdefs_8h_aa56260e937e7e203026707e5ba944273}{pdFALSE}}\ )}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00056}00056\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Switch\ to\ the\ highest\ priority\ task\ that\ is\ ready\ to\ run.\ */}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00058}00058\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_b_c_c_216_bit_d_o_s_2common_2portasm_8h_a9c86137bc3c1cbffc39fff22627cb885}{vTaskSwitchContext}}();}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00059}00059\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00060}00060\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00061}00061\ \textcolor{preprocessor}{\ \ \ \ \#else}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00062}00062\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00063}00063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_a_r_mv8_m_2non__secure_2portmacrocommon_8h_a646f89d4298e4f5afd522202b11cb2e6}{UBaseType\_t}}\ ulPreviousMask;}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00064}00064\ }
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00065}00065\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Tasks\ or\ ISRs\ running\ on\ other\ cores\ may\ still\ in\ critical\ section\ in}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00066}00066\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ multiple\ cores\ environment.\ Incrementing\ tick\ needs\ to\ performed\ in}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00067}00067\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ critical\ section.\ */}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00068}00068\ \ \ \ \ \ \ \ \ ulPreviousMask\ =\ \mbox{\hyperlink{task_8h_acb27098fc27d117f720d96bfdcd2b4c8}{taskENTER\_CRITICAL\_FROM\_ISR}}();}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00069}00069\ }
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00070}00070\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Maintain\ the\ tick\ count.\ */}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00071}00071\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ \mbox{\hyperlink{task_8h_a978e25460ac35706f9ad30b46d9403d8}{xTaskIncrementTick}}()\ !=\ \mbox{\hyperlink{projdefs_8h_aa56260e937e7e203026707e5ba944273}{pdFALSE}}\ )}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00072}00072\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Switch\ to\ the\ highest\ priority\ task\ that\ is\ ready\ to\ run.\ */}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00074}00074\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_b_c_c_216_bit_d_o_s_2common_2portasm_8h_a9c86137bc3c1cbffc39fff22627cb885}{vTaskSwitchContext}}(\ \mbox{\hyperlink{_free_r_t_o_s_8h_af56cac3afabd5c354d28d1a9d22321cd}{portGET\_CORE\_ID}}()\ );}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00075}00075\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00077}00077\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{task_8h_afa2f5acc3c925b6542ecca1acf67a234}{taskEXIT\_CRITICAL\_FROM\_ISR}}(\ ulPreviousMask\ );}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00078}00078\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00079}00079\ \textcolor{preprocessor}{\ \ \ \ \#endif\ }\textcolor{comment}{/*\ if\ (\ configNUMBER\_OF\_CORES\ ==\ 1\ )\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00081}00081\ \ \ \ \ \textcolor{comment}{/*\ start\ executing\ the\ new\ task\ */}}
\DoxyCodeLine{\Hypertarget{template_2port_8c_source_l00082}00082\ \}}

\end{DoxyCode}
