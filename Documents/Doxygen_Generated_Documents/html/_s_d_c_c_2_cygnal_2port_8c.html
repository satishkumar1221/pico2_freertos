<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cheesecake: D:/Projects/Raspberrypi_pico/pico_freertos_final/freertos_pico2/pico_freertos/FreeRTOS-Kernel/portable/SDCC/Cygnal/port.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">cheesecake
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_s_d_c_c_2_cygnal_2port_8c.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">port.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_free_r_t_o_s_8h_source.html">FreeRTOS.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="task_8h_source.html">task.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for port.c:</div>
<div class="dyncontent">
<div class="center"><img src="_s_d_c_c_2_cygnal_2port_8c__incl.png" border="0" usemap="#a_d_1_2_projects_2_raspberrypi__pico_2pico__freertos__final_2freertos__pico2_2pico__freertos_2_free_r_t_o_s-_kernel_2portable_2_s_d_c_c_2_cygnal_2port_8c" loading="lazy" alt=""/></div>
<!-- MAP 0 -->
</div>
</div>
<p><a href="_s_d_c_c_2_cygnal_2port_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2ded1dd76ecf66f68443e7135f8807fc" id="r_a2ded1dd76ecf66f68443e7135f8807fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ded1dd76ecf66f68443e7135f8807fc">portCLOCK_DIVISOR</a>&#160;&#160;&#160;( ( uint32_t ) 12 )</td></tr>
<tr class="memitem:a60c2a5e51d2dcbefaeb7201dc327d2c1" id="r_a60c2a5e51d2dcbefaeb7201dc327d2c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a60c2a5e51d2dcbefaeb7201dc327d2c1">portMAX_TIMER_VALUE</a>&#160;&#160;&#160;( ( uint32_t ) 0xffff )</td></tr>
<tr class="memitem:a3b69ebb0c1475f1bb8ed771e6c589e2a" id="r_a3b69ebb0c1475f1bb8ed771e6c589e2a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b69ebb0c1475f1bb8ed771e6c589e2a">portENABLE_TIMER</a>&#160;&#160;&#160;( ( uint8_t ) 0x04 )</td></tr>
<tr class="memitem:aba58c81908613d65d0215a70cc1a521d" id="r_aba58c81908613d65d0215a70cc1a521d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba58c81908613d65d0215a70cc1a521d">portTIMER_2_INTERRUPT_ENABLE</a>&#160;&#160;&#160;( ( uint8_t ) 0x20 )</td></tr>
<tr class="memitem:a21f6ad49a2286a8c53bd5da602351487" id="r_a21f6ad49a2286a8c53bd5da602351487"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21f6ad49a2286a8c53bd5da602351487">portGLOBAL_INTERRUPT_BIT</a>&#160;&#160;&#160;( ( <a class="el" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> ) 0x80 )</td></tr>
<tr class="memitem:a3b89bf729488db5c18a40f8a016e3838" id="r_a3b89bf729488db5c18a40f8a016e3838"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b89bf729488db5c18a40f8a016e3838">portINITIAL_PSW</a>&#160;&#160;&#160;( ( <a class="el" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> ) 0x00 )</td></tr>
<tr class="memitem:a097bd32546c0c342a43bb0c66977f600" id="r_a097bd32546c0c342a43bb0c66977f600"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a097bd32546c0c342a43bb0c66977f600">portCLEAR_INTERRUPT_FLAG</a>()</td></tr>
<tr class="memitem:a0003aec0622b1914fead6587479431a4" id="r_a0003aec0622b1914fead6587479431a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0003aec0622b1914fead6587479431a4">portCOPY_STACK_TO_XRAM</a>()</td></tr>
<tr class="memitem:ac4ff2bfcb6b4f48de9c31f323b245058" id="r_ac4ff2bfcb6b4f48de9c31f323b245058"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac4ff2bfcb6b4f48de9c31f323b245058">portCOPY_XRAM_TO_STACK</a>()</td></tr>
<tr class="memitem:a798f37b250502b49763c54a56b3aa4b0" id="r_a798f37b250502b49763c54a56b3aa4b0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a798f37b250502b49763c54a56b3aa4b0">portSAVE_CONTEXT</a>()</td></tr>
<tr class="memitem:a8d3a167375b5b57944a57df23d45b39e" id="r_a8d3a167375b5b57944a57df23d45b39e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d3a167375b5b57944a57df23d45b39e">portRESTORE_CONTEXT</a>()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aec89de59377079f7dc6a71dfbefd9a6f" id="r_aec89de59377079f7dc6a71dfbefd9a6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aec89de59377079f7dc6a71dfbefd9a6f">pxPortInitialiseStack</a> (<a class="el" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> *pxTopOfStack, <a class="el" href="projdefs_8h.html#a0ab243e55144f5278d263729530dac14">TaskFunction_t</a> pxCode, void *pvParameters)</td></tr>
<tr class="memitem:ade5a8c6666e7413a0355cc252029c5c6" id="r_ade5a8c6666e7413a0355cc252029c5c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a46fb21e00ae0729d7515c0fbf2269796">BaseType_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ade5a8c6666e7413a0355cc252029c5c6">xPortStartScheduler</a> (void)</td></tr>
<tr class="memitem:af76f3c0b44c5b5c06fc046a4ee1a6423" id="r_af76f3c0b44c5b5c06fc046a4ee1a6423"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af76f3c0b44c5b5c06fc046a4ee1a6423">vPortEndScheduler</a> (void)</td></tr>
<tr class="memdesc:af76f3c0b44c5b5c06fc046a4ee1a6423"><td class="mdescLeft">&#160;</td><td class="mdescRight">End the FreeRTOS scheduler.  <br /></td></tr>
<tr class="memitem:add01c927fb689f7ec170e42d47d27927" id="r_add01c927fb689f7ec170e42d47d27927"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add01c927fb689f7ec170e42d47d27927">vPortYield</a> (void)</td></tr>
<tr class="memdesc:add01c927fb689f7ec170e42d47d27927"><td class="mdescLeft">&#160;</td><td class="mdescRight">Yield the CPU.  <br /></td></tr>
<tr class="memitem:ae1064ff55886ef9cf64f424672819a27" id="r_ae1064ff55886ef9cf64f424672819a27"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae1064ff55886ef9cf64f424672819a27">vTimer2ISR</a> (void)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af7b1fc0a36e224b885fb22b9936a03a2" id="r_af7b1fc0a36e224b885fb22b9936a03a2"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="_b_c_c_216_bit_d_o_s_2common_2portasm_8h.html#af5b0f7452857787ed70ce2856ca74c4b">TCB_t</a> *volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7b1fc0a36e224b885fb22b9936a03a2">pxCurrentTCB</a></td></tr>
</table>
<a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="a097bd32546c0c342a43bb0c66977f600" name="a097bd32546c0c342a43bb0c66977f600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a097bd32546c0c342a43bb0c66977f600">&#9670;&#160;</a></span>portCLEAR_INTERRUPT_FLAG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define portCLEAR_INTERRUPT_FLAG</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">TMR2CN &amp;= ~0x80;</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00053">53</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a id="a2ded1dd76ecf66f68443e7135f8807fc" name="a2ded1dd76ecf66f68443e7135f8807fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ded1dd76ecf66f68443e7135f8807fc">&#9670;&#160;</a></span>portCLOCK_DIVISOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define portCLOCK_DIVISOR&#160;&#160;&#160;( ( uint32_t ) 12 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00041">41</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a id="a0003aec0622b1914fead6587479431a4" name="a0003aec0622b1914fead6587479431a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0003aec0622b1914fead6587479431a4">&#9670;&#160;</a></span>portCOPY_STACK_TO_XRAM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define portCOPY_STACK_TO_XRAM</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                                                           \</div>
<div class="line">        <span class="comment">/* pxCurrentTCB points to a TCB which itself points to the location into            \</span></div>
<div class="line"><span class="comment">        which the first stack byte should be copied. Set pxXRAMStack to point               \</span></div>
<div class="line"><span class="comment">        to the location into which the first stack byte is to be copied. */</span>                 \</div>
<div class="line">        pxXRAMStack = ( xdata <a class="code hl_typedef" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> * ) *( ( xdata <a class="code hl_typedef" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> ** ) <a class="code hl_define" href="tasks_8c.html#aeceb1ce641f0a4c4a5a298b1f3cbae9e">pxCurrentTCB</a> );   \</div>
<div class="line">                                                                                            \</div>
<div class="line">        <span class="comment">/* Set pxRAMStack to point to the first byte to be coped from the stack. */</span>         \</div>
<div class="line">        pxRAMStack = ( data <a class="code hl_typedef" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> * data ) configSTACK_START;                         \</div>
<div class="line">                                                                                            \</div>
<div class="line">        <span class="comment">/* Calculate the size of the stack we are about to copy from the current            \</span></div>
<div class="line"><span class="comment">        stack pointer value. */</span>                                                             \</div>
<div class="line">        ucStackBytes = <a class="code hl_variable" href="_g_c_c_2_r_l78_2_i_s_r___support_8h.html#a85224ff891d5fa22f8aa26c3eaca34f1">SP</a> - ( configSTACK_START - 1 );                                      \</div>
<div class="line">                                                                                            \</div>
<div class="line">        <span class="comment">/* Before starting to copy the stack, store the calculated stack size so            \</span></div>
<div class="line"><span class="comment">        the stack can be restored when the task is resumed. */</span>                              \</div>
<div class="line">        *pxXRAMStack = ucStackBytes;                                                        \</div>
<div class="line">                                                                                            \</div>
<div class="line">        <span class="comment">/* Copy each stack byte in turn.  pxXRAMStack is incremented first as we            \</span></div>
<div class="line"><span class="comment">        have already stored the stack size into XRAM. */</span>                                    \</div>
<div class="line">        while( ucStackBytes )                                                               \</div>
<div class="line">        {                                                                                   \</div>
<div class="line">                pxXRAMStack++;                                                              \</div>
<div class="line">                *pxXRAMStack = *pxRAMStack;                                                 \</div>
<div class="line">                pxRAMStack++;                                                               \</div>
<div class="line">                ucStackBytes--;                                                             \</div>
<div class="line">        }                                                                                   \</div>
<div class="line">}</div>
<div class="ttc" id="a_a_r_mv8_m_2non__secure_2portmacrocommon_8h_html_a84e9a8ba132feed0b2401c1f4e2ac63c"><div class="ttname"><a href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a></div><div class="ttdeci">portSTACK_TYPE StackType_t</div><div class="ttdef"><b>Definition</b> <a href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h_source.html#l00073">portmacrocommon.h:73</a></div></div>
<div class="ttc" id="a_g_c_c_2_r_l78_2_i_s_r___support_8h_html_a85224ff891d5fa22f8aa26c3eaca34f1"><div class="ttname"><a href="_g_c_c_2_r_l78_2_i_s_r___support_8h.html#a85224ff891d5fa22f8aa26c3eaca34f1">SP</a></div><div class="ttdeci">_pxCurrentTCB _usCriticalNesting macro portSAVE_CONTEXT SEL RB0 PUSH AX PUSH HL MOV CS XCH X MOV ES PUSH AX PUSH DE PUSH BC SEL RB1 PUSH AX PUSH BC PUSH DE PUSH HL SEL RB2 PUSH AX PUSH BC PUSH DE PUSH HL SEL RB0 MOVW !_usCriticalNesting PUSH AX MOVW !_pxCurrentTCB MOVW AX MOVW SP AX movw endm macro portRESTORE_CONTEXT MACRO SEL RB0 MOVW !_pxCurrentTCB MOVW AX MOVW MOVW SP</div><div class="ttdef"><b>Definition</b> <a href="_g_c_c_2_r_l78_2_i_s_r___support_8h_source.html#l00094">isr_support.h:94</a></div></div>
<div class="ttc" id="atasks_8c_html_aeceb1ce641f0a4c4a5a298b1f3cbae9e"><div class="ttname"><a href="tasks_8c.html#aeceb1ce641f0a4c4a5a298b1f3cbae9e">pxCurrentTCB</a></div><div class="ttdeci">#define pxCurrentTCB</div><div class="ttdef"><b>Definition</b> <a href="tasks_8c_source.html#l00452">tasks.c:452</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00084">84</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a id="ac4ff2bfcb6b4f48de9c31f323b245058" name="ac4ff2bfcb6b4f48de9c31f323b245058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4ff2bfcb6b4f48de9c31f323b245058">&#9670;&#160;</a></span>portCOPY_XRAM_TO_STACK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define portCOPY_XRAM_TO_STACK</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                                                           \</div>
<div class="line">        <span class="comment">/* Setup the pointers as per portCOPY_STACK_TO_XRAM(), but this time to             \</span></div>
<div class="line"><span class="comment">        copy the data back out of XRAM and into the stack. */</span>                               \</div>
<div class="line">        pxXRAMStack = ( xdata <a class="code hl_typedef" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> * ) *( ( xdata <a class="code hl_typedef" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> ** ) <a class="code hl_define" href="tasks_8c.html#aeceb1ce641f0a4c4a5a298b1f3cbae9e">pxCurrentTCB</a> );   \</div>
<div class="line">        pxRAMStack = ( data <a class="code hl_typedef" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> * data ) ( configSTACK_START - 1 );                 \</div>
<div class="line">                                                                                            \</div>
<div class="line">        <span class="comment">/* The first value stored in XRAM was the size of the stack - i.e. the              \</span></div>
<div class="line"><span class="comment">        number of bytes we need to copy back. */</span>                                            \</div>
<div class="line">        ucStackBytes = pxXRAMStack[ 0 ];                                                    \</div>
<div class="line">                                                                                            \</div>
<div class="line">        <span class="comment">/* Copy the required number of bytes back into the stack. */</span>                        \</div>
<div class="line">        <span class="keywordflow">do</span>                                                                                  \</div>
<div class="line">        {                                                                                   \</div>
<div class="line">                pxXRAMStack++;                                                              \</div>
<div class="line">                pxRAMStack++;                                                               \</div>
<div class="line">                *pxRAMStack = *pxXRAMStack;                                                 \</div>
<div class="line">                ucStackBytes--;                                                             \</div>
<div class="line">        } <span class="keywordflow">while</span>( ucStackBytes );                                                            \</div>
<div class="line">                                                                                            \</div>
<div class="line">        <span class="comment">/* Restore the stack pointer ready to use the restored stack. */</span>                    \</div>
<div class="line">        <a class="code hl_variable" href="_g_c_c_2_r_l78_2_i_s_r___support_8h.html#a85224ff891d5fa22f8aa26c3eaca34f1">SP</a> = ( uint8_t ) pxRAMStack;                                                        \</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00113">113</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a id="a3b69ebb0c1475f1bb8ed771e6c589e2a" name="a3b69ebb0c1475f1bb8ed771e6c589e2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b69ebb0c1475f1bb8ed771e6c589e2a">&#9670;&#160;</a></span>portENABLE_TIMER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define portENABLE_TIMER&#160;&#160;&#160;( ( uint8_t ) 0x04 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00043">43</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a id="a21f6ad49a2286a8c53bd5da602351487" name="a21f6ad49a2286a8c53bd5da602351487"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21f6ad49a2286a8c53bd5da602351487">&#9670;&#160;</a></span>portGLOBAL_INTERRUPT_BIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define portGLOBAL_INTERRUPT_BIT&#160;&#160;&#160;( ( <a class="el" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> ) 0x80 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00047">47</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a id="a3b89bf729488db5c18a40f8a016e3838" name="a3b89bf729488db5c18a40f8a016e3838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b89bf729488db5c18a40f8a016e3838">&#9670;&#160;</a></span>portINITIAL_PSW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define portINITIAL_PSW&#160;&#160;&#160;( ( <a class="el" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> ) 0x00 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00050">50</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a id="a60c2a5e51d2dcbefaeb7201dc327d2c1" name="a60c2a5e51d2dcbefaeb7201dc327d2c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60c2a5e51d2dcbefaeb7201dc327d2c1">&#9670;&#160;</a></span>portMAX_TIMER_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define portMAX_TIMER_VALUE&#160;&#160;&#160;( ( uint32_t ) 0xffff )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00042">42</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a id="a8d3a167375b5b57944a57df23d45b39e" name="a8d3a167375b5b57944a57df23d45b39e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d3a167375b5b57944a57df23d45b39e">&#9670;&#160;</a></span>portRESTORE_CONTEXT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define portRESTORE_CONTEXT</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>void</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                                                           \</div>
<div class="line">        _asm                                                                                \</div>
<div class="line">                pop                _bp                                                      \</div>
<div class="line">                pop                PSW                                                      \</div>
<div class="line">                pop                ar1                                                      \</div>
<div class="line">                pop                ar0                                                      \</div>
<div class="line">                pop                ar7                                                      \</div>
<div class="line">                pop                ar6                                                      \</div>
<div class="line">                pop                ar5                                                      \</div>
<div class="line">                pop                ar4                                                      \</div>
<div class="line">                pop                ar3                                                      \</div>
<div class="line">                pop                ar2                                                      \</div>
<div class="line">                pop                b                                                        \</div>
<div class="line">                pop                DPH                                                      \</div>
<div class="line">                pop                DPL                                                      \</div>
<div class="line">                <span class="comment">/* The next byte of the stack is the IE register.  Only the global          \</span></div>
<div class="line"><span class="comment">                enable bit forms part of the task context.  Pop off the IE then set         \</span></div>
<div class="line"><span class="comment">                the global enable bit to match that of the stored IE register. */</span>           \</div>
<div class="line">                pop                ACC                                                      \</div>
<div class="line">                JB                ACC.7,0098$                                               \</div>
<div class="line">                CLR                IE.7                                                     \</div>
<div class="line">                LJMP        0099$                                                           \</div>
<div class="line">        0098$:                                                                              \</div>
<div class="line">                SETB        IE.7                                                            \</div>
<div class="line">        0099$:                                                                              \</div>
<div class="line">                <span class="comment">/* Finally pop off the ACC, which was the first register saved. */</span>          \</div>
<div class="line">                pop                ACC                                                      \</div>
<div class="line">                reti                                                                        \</div>
<div class="line">        _endasm;                                                                            \</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00172">172</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a id="a798f37b250502b49763c54a56b3aa4b0" name="a798f37b250502b49763c54a56b3aa4b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a798f37b250502b49763c54a56b3aa4b0">&#9670;&#160;</a></span>portSAVE_CONTEXT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define portSAVE_CONTEXT</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>void</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                                                           \</div>
<div class="line">        _asm                                                                                \</div>
<div class="line">                <span class="comment">/* Push ACC first, as when restoring the context it must be restored        \</span></div>
<div class="line"><span class="comment">                last (it is used to set the IE register). */</span>                                \</div>
<div class="line">                push        ACC                                                             \</div>
<div class="line">                <span class="comment">/* Store the IE register then disable interrupts. */</span>                        \</div>
<div class="line">                push        IE                                                              \</div>
<div class="line">                clr                _EA                                                      \</div>
<div class="line">                push        DPL                                                             \</div>
<div class="line">                push        DPH                                                             \</div>
<div class="line">                push        b                                                               \</div>
<div class="line">                push        ar2                                                             \</div>
<div class="line">                push        ar3                                                             \</div>
<div class="line">                push        ar4                                                             \</div>
<div class="line">                push        ar5                                                             \</div>
<div class="line">                push        ar6                                                             \</div>
<div class="line">                push        ar7                                                             \</div>
<div class="line">                push        ar0                                                             \</div>
<div class="line">                push        ar1                                                             \</div>
<div class="line">                push        PSW                                                             \</div>
<div class="line">        _endasm;                                                                            \</div>
<div class="line">                PSW = 0;                                                                    \</div>
<div class="line">        _asm                                                                                \</div>
<div class="line">                push        _bp                                                             \</div>
<div class="line">        _endasm;                                                                            \</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00140">140</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a id="aba58c81908613d65d0215a70cc1a521d" name="aba58c81908613d65d0215a70cc1a521d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba58c81908613d65d0215a70cc1a521d">&#9670;&#160;</a></span>portTIMER_2_INTERRUPT_ENABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define portTIMER_2_INTERRUPT_ENABLE&#160;&#160;&#160;( ( uint8_t ) 0x20 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00044">44</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="aec89de59377079f7dc6a71dfbefd9a6f" name="aec89de59377079f7dc6a71dfbefd9a6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec89de59377079f7dc6a71dfbefd9a6f">&#9670;&#160;</a></span>pxPortInitialiseStack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> * pxPortInitialiseStack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pxTopOfStack</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="projdefs_8h.html#a0ab243e55144f5278d263729530dac14">TaskFunction_t</a></td>          <td class="paramname"><span class="paramname"><em>pxCode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>pvParameters</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>pxTopOfStack = 0x11;</p>
<p>pxTopOfStack = 0x22;</p>
<p>pxTopOfStack = 0x33;</p>

<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00206">206</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a id="af76f3c0b44c5b5c06fc046a4ee1a6423" name="af76f3c0b44c5b5c06fc046a4ee1a6423"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76f3c0b44c5b5c06fc046a4ee1a6423">&#9670;&#160;</a></span>vPortEndScheduler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vPortEndScheduler </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>End the FreeRTOS scheduler. </p>
<p>Not implemented on this port. </p>

<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00311">311</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a id="add01c927fb689f7ec170e42d47d27927" name="add01c927fb689f7ec170e42d47d27927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add01c927fb689f7ec170e42d47d27927">&#9670;&#160;</a></span>vPortYield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vPortYield </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Yield the CPU. </p>

<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00321">321</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a id="ae1064ff55886ef9cf64f424672819a27" name="ae1064ff55886ef9cf64f424672819a27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1064ff55886ef9cf64f424672819a27">&#9670;&#160;</a></span>vTimer2ISR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vTimer2ISR </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00362">362</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_s_d_c_c_2_cygnal_2port_8c_ae1064ff55886ef9cf64f424672819a27_cgraph.png" border="0" usemap="#a_s_d_c_c_2_cygnal_2port_8c_ae1064ff55886ef9cf64f424672819a27_cgraph" loading="lazy" alt=""/></div>
<!-- MAP 1 -->
</div>

</div>
</div>
<a id="ade5a8c6666e7413a0355cc252029c5c6" name="ade5a8c6666e7413a0355cc252029c5c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade5a8c6666e7413a0355cc252029c5c6">&#9670;&#160;</a></span>xPortStartScheduler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_a_r_mv8_m_2non__secure_2portmacrocommon_8h.html#a46fb21e00ae0729d7515c0fbf2269796">BaseType_t</a> xPortStartScheduler </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html#l00292">292</a> of file <a class="el" href="_s_d_c_c_2_cygnal_2port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="af7b1fc0a36e224b885fb22b9936a03a2" name="af7b1fc0a36e224b885fb22b9936a03a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7b1fc0a36e224b885fb22b9936a03a2">&#9670;&#160;</a></span>pxCurrentTCB</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="_b_c_c_216_bit_d_o_s_2common_2portasm_8h.html#af5b0f7452857787ed70ce2856ca74c4b">TCB_t</a>* volatile pxCurrentTCB</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_i_a_r_278_k0_r_2_i_s_r___support_8h_source.html#l00067">67</a> of file <a class="el" href="_i_a_r_278_k0_r_2_i_s_r___support_8h_source.html">ISR_Support.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_4a0bb1d3edd3cd3470ff45ba93d7cb46.html">pico_freertos</a></li><li class="navelem"><a href="dir_5270f1867b04849f6c4cddceb76c0650.html">FreeRTOS-Kernel</a></li><li class="navelem"><a href="dir_2901950e674b11bd625d37cd8c5cecca.html">portable</a></li><li class="navelem"><a href="dir_87aa3bf8472647eb9eca0e65cddedb3b.html">SDCC</a></li><li class="navelem"><a href="dir_10fc3f7a3b5a93c9f3142b7faae7dfa3.html">Cygnal</a></li><li class="navelem"><a href="_s_d_c_c_2_cygnal_2port_8c.html">port.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
